{"version":3,"file":"static/js/899.c46a9a13.chunk.js","mappings":"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","sources":["redux/contacts/selectors.js","webpack://react-homework-template/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","components/Confetti/utils.js","webpack://react-homework-template/./src/components/Contacts-list/Contacts-list.module.css?1416","components/Contacts-list/Contacts-list.jsx","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","components/Confetti/Confetti.jsx","webpack://react-homework-template/./src/pages/ContactPage/ContactPage.module.css?b217","pages/ContactPage/ContactPage.jsx"],"sourcesContent":["export const selectContact = state => state.contacts.contacts;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__vEd1E\",\"input\":\"Filter_input__N7T3z\"};","import { useSelector, useDispatch } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { selectContact } from 'redux/contacts/selectors';\nimport { setFilter } from 'redux/contacts/slice';\nimport s from './Filter.module.css';\n\nexport const FilterList = () => {\n    const [queryParams, setQueryParams] = useSearchParams();\n    const contacts = useSelector(selectContact);\n    const dispatch = useDispatch();\n\n    const onFilterChange = e => {\n        const value = e.target.value.trim();\n\n        dispatch(setFilter(value));\n        setQueryParams(value === '' ? {} : { query: value });\n    };\n\n    if (contacts.length === 0) {\n        return;\n    };\n\n    return (\n        <label className='label'>\n            <span className={s.label}>Find contacts by name</span>\n            <input\n                className={s.input}\n                onChange={onFilterChange}\n                type=\"text\"\n                value={queryParams.value}\n                name=\"filter\"\n                placeholder=\"Start typing the name...\"\n            />\n        </label>\n    );\n};\n","import EventEmitter from 'events';\n\nclass LoginEmmiter extends EventEmitter {\n  submit = () => {\n    this.emit('confetti', true);\n  };\n\n  close = () => {\n    this.emit('confetti', false);\n  };\n}\n\nexport const login = new LoginEmmiter();\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Contacts-list_wrapper__4cfoZ\",\"list\":\"Contacts-list_list__f9BVg\",\"item\":\"Contacts-list_item__leVYG\",\"text\":\"Contacts-list_text__dStqy\",\"tel\":\"Contacts-list_tel__c1YFg\",\"btn\":\"Contacts-list_btn__9SrUC\"};","import { useMemo, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { fetchContacts, deleteContact } from 'redux/contacts/operations';\nimport { selectContact } from 'redux/contacts/selectors';\nimport { selectAuth } from 'redux/auth/selectors';\nimport Button from '@mui/material/Button';\nimport PhoneAndroidIcon from '@mui/icons-material/PhoneAndroid';\nimport DeleteForeverOutlinedIcon from '@mui/icons-material/DeleteForeverOutlined';\nimport { login } from 'components/Confetti/utils';\nimport s from './Contacts-list.module.css';\n\nexport const ContactsList = () => {\n  const contacts = useSelector(selectContact);\n  const filter = useSelector(state => state.contacts.filter);\n  const dispatch = useDispatch();\n  const status = useSelector(selectAuth);\n\n  const filteredContacts = useMemo(() => {\n    return contacts.length ? contacts.filter(({ name }) => {\n      return name.toLowerCase().includes(filter.toLowerCase())\n    }) : [];\n  }, [contacts, filter]);\n\n  useEffect(() => {\n    if (status) {\n      dispatch(fetchContacts());\n    };\n  }, [dispatch, status]);\n\n  useEffect(() => {\n    login.submit();\n  }, [contacts]);\n\n  const elements = filteredContacts.map(({ id, name, number }) => (\n    <li className={s.item} key={id}>\n      <p className={s.text}>\n        <PhoneAndroidIcon sx={{ fontSize: 20, marginRight: 1 }} />\n        {name}</p>\n      <p className={s.tel}>Tel: {number}</p>\n      <Button\n        className={s.btn}\n        variant='contained'\n        startIcon={<DeleteForeverOutlinedIcon />}\n        type=\"button\"\n        onClick={() => window.confirm(`Delete contact ${name}?`) && dispatch(deleteContact(id))}\n      >\n        Delete\n      </Button>\n    </li>\n  ));\n\n  return <div className={s.wrapper}>\n    <ul className={s.list}>{elements}</ul>\n    </div>;\n};\n\nContactsList.propTypes = {\n  filteredContacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      number: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"label\":\"Form_label__8nx+5\",\"input\":\"Form_input__FTtTw\",\"btn\":\"Form_btn__0ebGo\"};","import { useState } from 'react';\nimport { useSelector, useDispatch} from 'react-redux';\nimport { addContact } from 'redux/contacts/operations';\nimport { toast } from 'react-toastify';\nimport { selectContact } from 'redux/contacts/selectors';\nimport Button from '@mui/material/Button';\nimport s from './Form.module.css';\n\nexport const Form = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const contacts = useSelector(selectContact);\n  const dispatch = useDispatch();\n\n  const onInputChange = e => {\n    const { name, value } = e.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'number':\n        setNumber(value);\n        break;\n      default:\n        console.log(value + \"is not a valid value\");\n    }\n  };\n\n  const formReset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const hasUserContacts = contacts.some(user => user.name === name);\n    \n    if (hasUserContacts) {\n      toast.warning(`${name} is already in contacts!`);\n      return;\n    };\n\n    dispatch(addContact({name, number}));\n    formReset();\n  };\n\n  return (\n    <form className={s.form} onSubmit={onFormSubmit}>\n      <label>\n        <span className={s.label}>Name</span>\n        <input\n          className={s.input}\n          onChange={onInputChange}\n          value={name}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          placeholder=\"Enter new name...\"\n          required\n        />\n      </label>\n      <label>\n        <span className={s.label}>Number</span>\n        <input\n          className={s.input}\n          onChange={onInputChange}\n          value={number}\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          placeholder=\"Enter phone number...\"\n          required\n        />\n      </label>\n      <Button\n          className={s.btn}\n          disabled={!name || !number}\n          variant=\"contained\"\n          type=\"submit\"\n        >\n          <span>Save</span>\n        </Button>\n    </form>\n  );\n};\n","import { useEffect, useState, useRef } from 'react';\n\nimport ConfettiComponent from 'react-confetti';\nimport ReactDOM from 'react-dom';\n\nimport { login } from './utils';\n\nconst TIMEOUT = 4_000;\nconst ANIMATION_DURATION = 2_000;\n\nexport const Confetti = () => {\n  const [party, setParty] = useState(true);\n  const [size, setSize] = useState({\n    y: window.innerHeight,\n    x: window.innerWidth - 20,\n  });\n\n  useEffect(() => {\n    const resize = () =>\n      setSize({ y: window?.innerHeight, x: window.innerWidth - 20 });\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, []);\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      setParty(false);\n    }, ANIMATION_DURATION);\n\n    return () => {\n      clearTimeout(id);\n    };\n  }, []);\n\n  return ReactDOM.createPortal(\n    <ConfettiComponent\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        zIndex: 100000,\n        width: '100%',\n        pointerEvents: 'none',\n      }}\n      numberOfPieces={party ? 200 : 0}\n      gravity={0.3}\n      onConfettiComplete={confetti => {\n        setParty(false);\n        confetti?.reset();\n      }}\n      width={size.x}\n      height={size.y}\n    />,\n    document.body\n  );\n};\n\nexport const ConfettiContainer = () => {\n  const timeoutId = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    login.on('confetti', setIsOpen);\n    return () => {\n      login.off('confetti', setIsOpen);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isOpen) {\n      timeoutId.current = setTimeout(() => {\n        login.close();\n      }, TIMEOUT);\n    }\n\n    return () => {\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n    };\n  }, [isOpen]);\n\n  return isOpen && <Confetti />;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ContactPage_wrapper__Csj47\"};","import { FilterList } from \"components/Filter/Filter\";\nimport { ContactsList } from \"components/Contacts-list\";\nimport {Form} from 'components/Form/Form';\nimport { ConfettiContainer } from \"components/Confetti\";\nimport s from './ContactPage.module.css';\n\nconst ContactPage = () => {\n    return (\n            <main className={s.wrapper}>\n                <Form />\n                <FilterList />\n                <ContactsList />\n                <ConfettiContainer />\n            </main>\n    );\n};\n\nexport default ContactPage;\n"],"names":["selectContact","state","contacts","FilterList","useSearchParams","queryParams","setQueryParams","useSelector","dispatch","useDispatch","length","className","s","onChange","e","value","target","trim","setFilter","query","type","name","placeholder","LoginEmmiter","submit","emit","close","EventEmitter","login","ContactsList","filter","status","selectAuth","filteredContacts","useMemo","toLowerCase","includes","useEffect","fetchContacts","elements","map","id","number","PhoneAndroid","sx","fontSize","marginRight","Button","variant","startIcon","DeleteForeverOutlined","onClick","window","confirm","deleteContact","Form","useState","setName","setNumber","onInputChange","console","log","onSubmit","preventDefault","some","user","toast","addContact","pattern","title","required","disabled","Confetti","party","setParty","y","innerHeight","x","innerWidth","size","setSize","resize","addEventListener","removeEventListener","setTimeout","clearTimeout","ReactDOM","style","position","top","left","zIndex","width","pointerEvents","numberOfPieces","gravity","onConfettiComplete","confetti","reset","height","document","body","ConfettiContainer","timeoutId","useRef","isOpen","setIsOpen","on","off","current"],"sourceRoot":""}