"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[899],{4899:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a=t(885),r=t(9434),s=t(6731),i=function(e){return e.contacts.contacts},c=t(7840),o="Filter_label__vEd1E",u="Filter_input__N7T3z",l=t(3329),f=function(){var e=(0,s.lr)(),n=(0,a.Z)(e,2),t=n[0],f=n[1],m=(0,r.v9)(i),d=(0,r.I0)();if(0!==m.length)return(0,l.jsxs)("label",{className:"label",children:[(0,l.jsx)("span",{className:o,children:"Find contacts by name"}),(0,l.jsx)("input",{className:u,onChange:function(e){var n=e.target.value.trim();d((0,c.T)(n)),f(""===n?{}:{query:n})},type:"text",value:t.value,name:"filter",placeholder:"Start typing the name..."})]})},m=t(2791),d=t(7306),h=t(4217),p=t(9926),v=t(5126),_=t(9505),x=t(3144),w=t(5671),b=t(136),j=t(3668),g=t(7465),y=function(e){(0,b.Z)(t,e);var n=(0,j.Z)(t);function t(){var e;(0,w.Z)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).submit=function(){e.emit("confetti",!0)},e.close=function(){e.emit("confetti",!1)},e}return(0,x.Z)(t)}(t.n(g)()),C=new y,N="Contacts-list_wrapper__4cfoZ",Z="Contacts-list_list__f9BVg",E="Contacts-list_item__leVYG",F="Contacts-list_text__dStqy",z="Contacts-list_tel__c1YFg",S=function(){var e=(0,r.v9)(i),n=(0,r.v9)((function(e){return e.contacts.filter})),t=(0,r.I0)(),a=(0,r.v9)(h.H),s=(0,m.useMemo)((function(){return e.length?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[]}),[e,n]);(0,m.useEffect)((function(){a&&t((0,d.yF)())}),[t,a]),(0,m.useEffect)((function(){C.submit()}),[e]);var c=s.map((function(e){var n=e.id,a=e.name,r=e.number;return(0,l.jsxs)("li",{className:E,children:[(0,l.jsxs)("p",{className:F,children:[(0,l.jsx)(v.Z,{sx:{fontSize:20,marginRight:1}}),a]}),(0,l.jsxs)("p",{className:z,children:["Tel: ",r]}),(0,l.jsx)(p.Z,{color:"inherit",variant:"contained",startIcon:(0,l.jsx)(_.Z,{}),type:"button",onClick:function(){return window.confirm("Delete contact ".concat(a,"?"))&&t((0,d.GK)(n))},children:"Delete"})]},n)}));return(0,l.jsx)("div",{className:N,children:(0,l.jsx)("ul",{className:Z,children:c})})},k=t(5206),T="Form_form__e1yzW",A="Form_label__8nx+5",I="Form_input__FTtTw",q="Form_btn__0ebGo",L=function(){var e=(0,m.useState)(""),n=(0,a.Z)(e,2),t=n[0],s=n[1],c=(0,m.useState)(""),o=(0,a.Z)(c,2),u=o[0],f=o[1],h=(0,r.v9)(i),p=(0,r.I0)(),v=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":s(a);break;case"number":f(a);break;default:console.log(a+"is not a valid value")}};return(0,l.jsxs)("form",{className:T,onSubmit:function(e){e.preventDefault(),h.some((function(e){return e.name===t}))?k.Am.warning("".concat(t," is already in contacts!")):(p((0,d.uK)({name:t,number:u})),s(""),f(""))},children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("span",{className:A,children:"Name"}),(0,l.jsx)("input",{className:I,onChange:v,value:t,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:"Enter new name...",required:!0})]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("span",{className:A,children:"Number"}),(0,l.jsx)("input",{className:I,onChange:v,value:u,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"Enter phone number...",required:!0})]}),(0,l.jsx)("button",{className:q,type:"submit",children:(0,l.jsx)("span",{children:"Save"})})]})},P=t(1425),D=t.n(P),G=t(4164),H=function(){var e=(0,m.useState)(!0),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,m.useState)({y:window.innerHeight,x:window.innerWidth-20}),i=(0,a.Z)(s,2),c=i[0],o=i[1];return(0,m.useEffect)((function(){var e=function(){var e;return o({y:null===(e=window)||void 0===e?void 0:e.innerHeight,x:window.innerWidth-20})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,m.useEffect)((function(){var e=setTimeout((function(){r(!1)}),2e3);return function(){clearTimeout(e)}}),[]),G.createPortal((0,l.jsx)(D(),{style:{position:"fixed",top:0,left:0,zIndex:1e5,width:"100%",pointerEvents:"none"},numberOfPieces:t?200:0,gravity:.3,onConfettiComplete:function(e){r(!1),null===e||void 0===e||e.reset()},width:c.x,height:c.y}),document.body)},W=function(){var e=(0,m.useRef)(null),n=(0,m.useState)(!1),t=(0,a.Z)(n,2),r=t[0],s=t[1];return(0,m.useEffect)((function(){return C.on("confetti",s),function(){C.off("confetti",s)}}),[]),(0,m.useEffect)((function(){return r&&(e.current=setTimeout((function(){C.close()}),4e3)),function(){e.current&&clearTimeout(e.current)}}),[r]),r&&(0,l.jsx)(H,{})},B="ContactPage_wrapper__Csj47",K=function(){return(0,l.jsxs)("main",{className:B,children:[(0,l.jsx)(L,{}),(0,l.jsx)(f,{}),(0,l.jsx)(S,{}),(0,l.jsx)(W,{})]})}}}]);
//# sourceMappingURL=899.83b8e581.chunk.js.map